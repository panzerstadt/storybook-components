(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(184)},105:function(e,t,a){},106:function(e,t,a){},11:function(e,t,a){e.exports={containerDiv:"fetchGhost_containerDiv__3IuKq",paginationDiv:"fetchGhost_paginationDiv__2Sa7o",pagebtn:"fetchGhost_pagebtn__NU51y",pagination:"fetchGhost_pagination__1oZOs fetchGhost_pagebtn__NU51y",disabled:"fetchGhost_disabled__2jpC6 fetchGhost_pagination__1oZOs fetchGhost_pagebtn__NU51y",paginationLeft:"fetchGhost_paginationLeft__3FidL fetchGhost_pagination__1oZOs fetchGhost_pagebtn__NU51y",paginationRight:"fetchGhost_paginationRight__2vSuG fetchGhost_pagination__1oZOs fetchGhost_pagebtn__NU51y",paginationText:"fetchGhost_paginationText__1SoH1"}},12:function(e,t,a){e.exports={dataBlockDiv:"ImageWithText_dataBlockDiv__3pvZa",dataBlock:"ImageWithText_dataBlock__1v8nZ",dataBlockImage:"ImageWithText_dataBlockImage__wQVvC",dndOverlay:"ImageWithText_dndOverlay__NqD7_",dataBlockText:"ImageWithText_dataBlockText__2tAgK"}},13:function(e,t,a){e.exports={dataBlockDiv:"Text_dataBlockDiv__2Zoq9",dataBlock:"Text_dataBlock__2XOLN",dataBlockImage:"Text_dataBlockImage__19Z14",dndOverlay:"Text_dndOverlay__1zHGJ",removeInputStyling:"Text_removeInputStyling__3MJmX",textBlock:"Text_textBlock__l5SFY",text:"Text_text__1Vrv_",author:"Text_author__I6KpJ Text_removeInputStyling__3MJmX"}},16:function(e,t,a){e.exports={dataBlockDiv:"Image_dataBlockDiv__EYIH3",dataBlock:"Image_dataBlock__QyzjU",dataBlockImage:"Image_dataBlockImage__1wNyR",dndOverlay:"Image_dndOverlay__Z9dDu",dataBlockText:"Image_dataBlockText__1kc0W"}},184:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),c=a(81),i=a.n(c),r=(a(105),a(82)),l=a(83),_=a(98),s=a(84),d=a(99),m=a(85),p=a.n(m),u=(a(106),a(15),a(3)),g=a(86),b=(a(11),a(6),a(9),new g.a({url:"https://gatsby-starter-blog-admin.now.sh",key:"53321cfbcc9440e2c7554b0c91",version:"v2"})),f=function(e){return b.posts.browse({limit:e&&e.limit||20,page:e&&e.page||1}).then(function(e){return e}).catch(function(e){return console.log(e)})},v=f,h=(Object(o.createContext)([]),a(88),a(28),a(60),a(89),a(35));a(61),a(90),a(62),a(92);a(97),a(63),a(64);Object(o.createContext)({});console.log(function(){return n.a.createElement("p",null,"hey")});a(93);var E=a(27),y=a(45),k=a.n(y),B={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"}).apiKey,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"}).authDomain,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"}).databaseURL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"}).projectId,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"}).storageBucket,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"}).messagingSenderId},P={};Object.keys(B).map(function(e){P[e]=Object({NODE_ENV:"production",PUBLIC_URL:"/storybook-components",REACT_APP_apiKey:"AIzaSyBoTMMhkso-orMt-RFOsQdqYkrw9Hi6vYo",REACT_APP_authDomain:"topogenlq-1479374381145.firebaseapp.com",REACT_APP_databaseURL:"https://topogenlq-1479374381145.firebaseio.com",REACT_APP_projectId:"topogenlq-1479374381145",REACT_APP_storageBucket:"topogenlq-1479374381145.appspot.com",REACT_APP_messagingSenderId:"969449945528"})["REACT_APP_".concat(e)]}),k.a.apps.length||k.a.initializeApp(P);var A=k.a,O=a(44),R=a.n(O),D=a(29),j=a.n(D),I=a(94),T=a.n(I),C=function(e){var t=e.databaseRef,a=void 0===t?"dev-playground":t,c=e.onDBUpdate,i=Object(o.useState)({}),r=Object(u.a)(i,2),l=r[0],_=r[1];return Object(o.useEffect)(function(){A.database().ref(a).on("value",function(e){var t=e.val();_(t),c&&c(t)},[l])},[]),n.a.createElement("div",{className:T.a.json},n.a.createElement(R.a,{style:{overflow:"hidden"},src:l,theme:"summerfruit"}))},x=a(26),N=a(96),U=a(12),S=a.n(U),q=function(e){var t=e.data,a=e.onUpdate,c=e.mode,i=Object(o.useState)(t.title),r=Object(u.a)(i,2),l=r[0],_=r[1],s=Object(o.useState)(t.imageData),d=Object(u.a)(s,2),m=d[0],p=d[1],g=function(e){if("title"===e.type?_(e.data):"imageData"===e.type&&p(e.data),a){var o={};o[e.type]=e.data;var n=Object(E.a)({},t,o);a(n)}};return"edit"===c?n.a.createElement("div",{className:S.a.dataBlockDiv},n.a.createElement(x.a,{onDrop:function(e,t){var a=e[0],o=new FileReader;o.onload=function(e){var t=e.target.result;g({type:"imageData",data:t})},o.readAsDataURL(a)}},function(e){var a=e.getRootProps,o=e.getInputProps,c=e.isDragActive;return n.a.createElement("div",Object.assign({},a(),{className:S.a.dataBlock}),n.a.createElement("input",o()),c?n.a.createElement("span",{className:S.a.dndOverlay},"Try dropping some files here, ",n.a.createElement("br",null),"or click to select files to upload."):"",n.a.createElement("img",{className:S.a.dataBlockImage,src:m,alt:t.title}))}),n.a.createElement(N.DebounceInput,{minLength:2,debounceTimeout:1e3,className:S.a.dataBlockText,value:l,onChange:function(e){return g({type:"title",data:e.target.value})}})):n.a.createElement("div",{className:S.a.dataBlockDiv},n.a.createElement("div",{className:S.a.dataBlock},n.a.createElement("img",{className:S.a.dataBlockImage,src:t.imageData,alt:t.title}),n.a.createElement("p",{className:S.a.dataBlockText},t.title)))},w=a(13),L=a.n(w),M={height:0,width:0},G=function(e){var t=e.data,a=(e.onUpdate,e.mode),c=Object(o.useRef)(null),i=Object(o.useState)({}),r=Object(u.a)(i,2),l=r[0],_=r[1],s=Object(o.useState)({}),d=Object(u.a)(s,2),m=(d[0],d[1],Object(o.useState)({})),p=Object(u.a)(m,2),g=p[0],b=p[1];Object(o.useEffect)(function(){var e;try{e=Object.keys(t).map(function(e){return t[e]})}catch(o){e=t}e.map(function(e,t){"text"===e.type?_({id:t,data:e.data}):"author"===e.type&&b({id:t,data:e.data})}),"edit"!==a&&setTimeout(function(){M={height:c.current.clientHeight,width:c.current.clientWidth}},500)},[t]);var f=function(e){"text"===e.type?_(e.data):"author"===e.type&&b(e.data)};return"edit"===a?n.a.createElement("div",{className:L.a.dataBlockDiv},n.a.createElement("div",{className:L.a.textBlock},n.a.createElement("textarea",{className:L.a.text+" "+L.a.removeInputStyling,style:{height:M.height},value:l.data,onChange:function(e){return f({type:"text",data:e.target.value,id:l.id})}}),n.a.createElement("br",null),n.a.createElement("input",{className:L.a.author,value:g.data,onChange:function(e){return f({type:"author",data:e.target.value})}}))):n.a.createElement("div",{className:L.a.dataBlockDiv},n.a.createElement("div",{className:L.a.textBlock},n.a.createElement("p",{key:l.id,className:L.a.text,ref:c},l.data),n.a.createElement("br",null),n.a.createElement("h3",{className:L.a.author},g.data)))},F=a(16),Y=a.n(F),z=function(e){var t=e.data,a=(e.onUpdate,e.mode),c=(Object(o.useRef)(null),Object(o.useState)({})),i=Object(u.a)(c,2),r=i[0],l=i[1],_=Object(o.useState)(t.imageData),s=Object(u.a)(_,2),d=s[0],m=s[1],p=Object(o.useState)({}),g=Object(u.a)(p,2),b=(g[0],g[1]);Object(o.useEffect)(function(){var e;try{e=Object.keys(t).map(function(e){return t[e]})}catch(a){e=t}console.log(e),e.map(function(e,t){"text"===e.type?l({id:t,data:e.data}):"author"===e.type?b({id:t,data:e.data}):"imageData"===e.type&&m(e.data)})},[t]);return"edit"===a?n.a.createElement("div",{className:Y.a.dataBlockDiv},n.a.createElement("div",{className:Y.a.textBlock},n.a.createElement(x.a,{onDrop:function(e,t){var a=e[0],o=new FileReader;o.onload=function(e){!function(e){if("text"===e.type){var t=r.map(function(t){return t.id===e.id?{id:e.id,data:e.data}:t});l(t)}else"author"===e.type?b(e.data):"imageData"===e.type&&m(e.data)}({type:"imageData",data:e.target.result})},o.readAsDataURL(a)}},function(e){var a=e.getRootProps,o=e.getInputProps,c=e.isDragActive;return n.a.createElement("div",Object.assign({},a(),{className:Y.a.dataBlock}),n.a.createElement("input",o()),c?n.a.createElement("span",{className:Y.a.dndOverlay},"Try dropping some files here, ",n.a.createElement("br",null),"or click to select files to upload."):"",n.a.createElement("img",{className:Y.a.dataBlockImage,src:d,alt:t.title}))}))):n.a.createElement("div",{className:Y.a.dataBlockDiv},n.a.createElement("div",{className:Y.a.dataBlock},n.a.createElement("img",{className:Y.a.dataBlockImage,src:d,alt:t.title})))},H=a(5),K=a.n(H),Q={text:G,image:z,heroImage:function(e){var t=e.data,a=(e.onUpdate,e.mode),c=(Object(o.useRef)(null),Object(o.useState)({})),i=Object(u.a)(c,2),r=i[0],l=i[1],_=Object(o.useState)(t.imageData),s=Object(u.a)(_,2),d=s[0],m=s[1],p=Object(o.useState)({}),g=Object(u.a)(p,2),b=(g[0],g[1]);Object(o.useEffect)(function(){var e;try{e=Object.keys(t).map(function(e){return t[e]})}catch(a){e=t}console.log(e),e.map(function(e,t){"text"===e.type?l({id:t,data:e.data}):"author"===e.type?b({id:t,data:e.data}):"imageData"===e.type&&m(e.data)})},[t]);return"edit"===a?n.a.createElement("div",{className:K.a.dataBlockDiv},n.a.createElement("div",{className:K.a.heroContainer},n.a.createElement(x.a,{onDrop:function(e,t){var a=e[0],o=new FileReader;o.onload=function(e){!function(e){if("text"===e.type){var t=r.map(function(t){return t.id===e.id?{id:e.id,data:e.data}:t});l(t)}else"author"===e.type?b(e.data):"imageData"===e.type&&m(e.data)}({type:"imageData",data:e.target.result})},o.readAsDataURL(a)}},function(e){var a=e.getRootProps,o=e.getInputProps,c=e.isDragActive;return n.a.createElement("div",Object.assign({},a(),{className:K.a.dataBlock}),n.a.createElement("input",o()),c?n.a.createElement("span",{className:K.a.dndOverlay},"Try dropping some files here, ",n.a.createElement("br",null),"or click to select files to upload."):"",n.a.createElement("img",{className:K.a.dataBlockImage+" "+K.a.heroImg+" "+K.a.animated,src:d,alt:t.title}))}))):n.a.createElement("div",{className:K.a.dataBlockDiv},n.a.createElement("div",{className:K.a.dataBlock},n.a.createElement("div",{className:K.a.heroContainer},n.a.createElement("img",{className:K.a.dataBlockImage+" "+K.a.heroImg+" "+K.a.animated,src:d,alt:t.title}))))}},V=q,W="0003-aaron-chew/data",Z=function(e){var t=e.databaseRef,a=void 0===t?W:t,c=(e.onUpdated,e.children,Object(o.useState)({url:"",title:"",imageBase64:""})),i=Object(u.a)(c,2),r=(i[0],i[1],Object(o.useState)("")),l=Object(u.a)(r,2),_=l[0],s=l[1],d=Object(o.useState)(),m=Object(u.a)(d,2),p=m[0],g=m[1],b=Object(o.useState)({}),f=Object(u.a)(b,2),v=f[0],y=f[1],k=Object(o.useState)(v),B=Object(u.a)(k,2),P=B[0],O=B[1];Object(o.useEffect)(function(){var e=A.database().ref(a);g(e),e.on("value",function(e){var t=e.val();Object.keys(e.val()).map(function(e){t[e]=Object(E.a)({},t[e],{uid:e})}),y(t)})},[]);var D=Object(o.useState)(!1),I=Object(u.a)(D,2),T=I[0],x=I[1];Object(o.useEffect)(function(){if(T&&p){var e=v,t=Object.keys(e).map(function(t,a){return"data"===e[t].type?n.a.createElement(N,{key:t,uid:t,toDelete:!v[t]},n.a.createElement(V,{data:e[t],mode:"edit",onUpdate:U,uid:t})):"text"===e[t].type?n.a.createElement(N,{key:t,uid:t,toDelete:!v[t]},n.a.createElement(Q.text,{key:t,data:e[t],mode:"edit",onUpdate:U})):"image"===e[t].type?n.a.createElement(Q.image,{key:t,data:e[t],mode:"edit",onUpdate:U}):"heroImage"===e[t].type?n.a.createElement(Q.heroImage,{key:t,data:e[t],mode:"edit",onUpdate:U}):n.a.createElement(N,{key:t,uid:t,toDelete:!v[t]},n.a.createElement("p",{key:t},"this block editing function is not supported yet."))});s(t)}else if(!T&&p){var a=v,o=Object.keys(a).map(function(e,t){return"data"===a[e].type?n.a.createElement(V,{key:e,data:a[e]}):"text"===a[e].type?n.a.createElement(Q.text,{key:e,data:a[e]}):"image"===a[e].type?n.a.createElement(Q.image,{key:e,data:a[e]}):"heroImage"===a[e].type?n.a.createElement(Q.heroImage,{key:e,data:a[e]}):n.a.createElement("div",{key:e,style:{margin:"1rem 0"}},n.a.createElement(R.a,{style:{overflow:"hidden",textAlign:"left"},src:a[e],theme:"summerfruit"}))});s(o)}},[T,p,v]);var N=function(e){var t=e.children,a=e.uid,o=e.toDelete;return n.a.createElement("div",{key:a,className:j.a.editable+" "+(o?j.a.warning:"")},n.a.createElement("button",{className:j.a.editButton,style:{visibility:T?"visible":"hidden"},onClick:function(){return M(a)}},"\ud83e\udde8"),t)},U=function(e){var t=Object(E.a)({},v);t[e.uid]=e,O(t)},S=Object(o.useState)([]),q=Object(u.a)(S,2),w=q[0],L=q[1],M=function(e){var t=Object(E.a)({},v);delete t[e],y(t),L([].concat(Object(h.a)(w),[e]))};return n.a.createElement("div",null,n.a.createElement("h3",null,"UPDATE (+DELETE)"),n.a.createElement("button",{className:j.a.modeButton,style:{backgroundColor:T?"red":"black"},onClick:function(){return x(!T)}},"edit")," ",n.a.createElement("button",{className:j.a.modeButton,onClick:function(){console.log("publishing"),console.log(P),A.database().ref(a).set(P),x(!1)}},"publish"),n.a.createElement("br",null),_,n.a.createElement("br",null),n.a.createElement("h3",null,"ALL DATA - REF"),n.a.createElement(C,{databaseRef:W}))},J=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(a=Object(_.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(n)))).state={posts:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;v().then(function(t){return e.setState({posts:t})})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"})),n.a.createElement(Z,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,t,a){e.exports={comments:"Comments_comments__37a1x",commentCount:"Comments_commentCount__1eE9F"}},29:function(e,t,a){e.exports={addInput:"Update_addInput__2Mln-",inputLabel:"Update_inputLabel__2PIT0",editable:"Update_editable__LDE1E",warning:"Update_warning__1YjpF",editButton:"Update_editButton__kaF8I",modeButton:"Update_modeButton__qCzgv"}},5:function(e,t,a){e.exports={dataBlockDiv:"PanningImage_dataBlockDiv__2PgnQ",dataBlock:"PanningImage_dataBlock__1NBdo",dataBlockImage:"PanningImage_dataBlockImage__3-gUU",dndOverlay:"PanningImage_dndOverlay__1XgNU",dataBlockText:"PanningImage_dataBlockText__eqbG9",heroContainer:"PanningImage_heroContainer__1ZDRd",heroImg:"PanningImage_heroImg__3V3L9",animated:"PanningImage_animated__3pqDF",heroPan:"PanningImage_heroPan__3QGlQ"}},6:function(e,t,a){e.exports={postDiv:"Gallery_postDiv__3TqMl",postDivBorder:"Gallery_postDivBorder__1JBxF",postDivPadding:"Gallery_postDivPadding__3i-Hf",imgDiv:"Gallery_imgDiv__3bSbh",img:"Gallery_img__2zB67",textDiv:"Gallery_textDiv__SAt3L",text:"Gallery_text__2nV7h"}},61:function(e,t,a){e.exports={comment:"Comment_comment__1iY7T",showMore:"Comment_showMore__3a0Gc",comments:"Comment_comments__Dj7z1",hidden:"Comment_hidden__1U7BQ",left:"Comment_left__38maD",right:"Comment_right__2sPTt",top:"Comment_top__1x2rf",minimize:"Comment_minimize__Bpnj_",username:"Comment_username__6TkHb",date:"Comment_date__1XQTV",content:"Comment_content__rOALj",actions:"Comment_actions__2UfeH",selected:"Comment_selected__qr6al"}},62:function(e,t,a){e.exports={code:"Markdown_code__W8ZFb",blockquote:"Markdown_blockquote__gzC2c"}},63:function(e,t,a){e.exports={reply:"Reply_reply__1_Yt-",hidden:"Reply_hidden__30eBS",panel:"Reply_panel__1evr6",comment_as:"Reply_comment_as__1_Krh",username:"Reply_username__3l-ig",button:"Reply_button__3sTYb"}},64:function(e,t,a){e.exports={button:"Button_button__3mEKn",circle:"Button_circle__1WTeJ",clickEffect:"Button_clickEffect__2vsL9"}},85:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},88:function(e,t,a){e.exports={commentBox:"CommentBox_commentBox__259FB",a:"CommentBox_a__2O_UM"}},9:function(e,t,a){e.exports={postDiv:"Blog_postDiv__avk-o",postDivFull:"Blog_postDivFull__2LtqX",postDivBorder:"Blog_postDivBorder__1UOvw",postDivPadding:"Blog_postDivPadding__yWIiN",imgDiv:"Blog_imgDiv__3BdGe",img:"Blog_img__zf-0m",textDiv:"Blog_textDiv__sWNs6",text:"Blog_text__RM1ug",flip:"Blog_flip__3ybeV"}},92:function(e,t,a){e.exports={rating:"Rating_rating__1-wRS",count:"Rating_count__b6I8R",up:"Rating_up__2kah6",down:"Rating_down__2JFUk",thumbs_up:"Rating_thumbs_up__1Me8m",thumbs_down:"Rating_thumbs_down__2gfVh",selected:"Rating_selected__1PCpU"}},93:function(e,t,a){e.exports={card:"Card_card__12fj1"}},94:function(e,t,a){e.exports={json:"Read_json__3rAR1"}}},[[100,1,2]]]);
//# sourceMappingURL=main.8e73f995.chunk.js.map